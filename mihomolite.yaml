# æœºåœºè®¢é˜…ï¼Œåç§°ä¸èƒ½é‡å¤
proxy-providers:
  æœºåœºè®¢é˜…åœ°å€:
    type: http
    interval: 1800
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
    proxy: DIRECT
    url: "èŠ‚ç‚¹è®¢é˜…"
         
# # # # # ç­–ç•¥ç»„å‚æ•°é”šç‚¹
#
# é”šç‚¹ - æ—¶å»¶ä¼˜é€‰å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œå®¹å·® 20msï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
UrlTest: &UrlTest {type: url-test, interval: 6, tolerance: 20, lazy: true, url: 'http://www.google.com/blank.html', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all-providers: true}
# é”šç‚¹ - æ•…éšœè½¬ç§»å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
FallBack: &FallBack {type: fallback, interval: 6, lazy: true, url: 'http://www.google.com/blank.html', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all-providers: true}
# é”šç‚¹ - è´Ÿè½½å‡è¡¡å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
LoadBalance: &LoadBalance {type: load-balance, interval: 6, lazy: true, url: 'http://www.google.com/blank.html', disable-udp: false, strategy: consistent-hashing, timeout: 2000, max-failed-times: 3, hidden: true, include-all-providers: true}
#
pr: &pr {type: select, proxies: [ğŸš€ å¸¸è§„ä»£ç†, â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰, ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§», ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡, â±å°æ¹¾æ—¶å»¶ä¼˜é€‰, ğŸš¥å°æ¹¾æ•…éšœè½¬ç§», ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡, â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰, ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§», ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡, â±éŸ©å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥éŸ©å›½æ•…éšœè½¬ç§», ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡, â±æ–°å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥æ–°å›½æ•…éšœè½¬ç§», ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡, â±ç¾å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥ç¾å›½æ•…éšœè½¬ç§», ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡, è‡ªå®šä¹‰èŠ‚ç‚¹, DIRECT, REJECT]}

# é”šç‚¹ - èŠ‚ç‚¹ç­›é€‰ç»„
FilterHK: &FilterHK '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterTW: &FilterTW '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterJP: &FilterJP '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterKR: &FilterKR '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|(\b(KR|Korea)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterSG: &FilterSG '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUS: &FilterUS '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)(\d+)?\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$'

# ç­–ç•¥ç»„
proxy-groups:
  - {name: ğŸš€ å¸¸è§„ä»£ç†, type: select, proxies: [â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰, ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§», ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡, â±å°æ¹¾æ—¶å»¶ä¼˜é€‰, ğŸš¥å°æ¹¾æ•…éšœè½¬ç§», ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡, â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰, ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§», ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡, â±éŸ©å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥éŸ©å›½æ•…éšœè½¬ç§», ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡, â±æ–°å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥æ–°å›½æ•…éšœè½¬ç§», ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡, â±ç¾å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥ç¾å›½æ•…éšœè½¬ç§», ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡, è‡ªå®šä¹‰èŠ‚ç‚¹, DIRECT, REJECT]}
  - {name: ğŸ“¹ YouTube,!!merge <<: *pr}
  - {name: ğŸ€ Google,!!merge <<: *pr}
  - {name: ğŸ¤– ChatGPT,!!merge <<: *pr}
  - {name: ğŸ‘¨ğŸ¿â€ğŸ’» GitHub,!!merge <<: *pr}
  - {name: â“‚ï¸ å¾®è½¯æœåŠ¡,!!merge <<: *pr}
  - {name: ğŸ® Steam,!!merge <<: *pr}
  - {name: ğŸµ TikTok,!!merge <<: *pr}
  - {name: ğŸ“² Telegram,!!merge <<: *pr}
  - {name: ğŸ¥ NETFLIX,!!merge <<: *pr}
  - {name: ğŸ¶ ç½‘æ˜“éŸ³ä¹,!!merge <<: *pr}
  - {name: ğŸ è‹¹æœæœåŠ¡,!!merge <<: *pr}
  - {name: ğŸ¯ å…¨çƒç›´è¿,!!merge <<: *pr}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼,!!merge <<: *pr}

# æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„
  - {name: â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterHK}
  - {name: â±å°æ¹¾æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterTW}
  - {name: â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterJP}
  - {name: â±éŸ©å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterKR}
  - {name: â±æ–°å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterSG}
  - {name: â±ç¾å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterUS}

# æ•…éšœè½¬ç§»ç­–ç•¥ç»„
  - {name: ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterHK}
  - {name: ğŸš¥å°æ¹¾æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterTW}
  - {name: ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterJP}
  - {name: ğŸš¥éŸ©å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterKR}
  - {name: ğŸš¥æ–°å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterSG}
  - {name: ğŸš¥ç¾å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterUS}

# è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„
  - {name: ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterHK}
  - {name: ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterTW}
  - {name: ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterJP}
  - {name: ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterKR}
  - {name: ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterSG}
  - {name: ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterUS}
#
  - {name: è‡ªå®šä¹‰èŠ‚ç‚¹, type: select, include-all-providers: true, filter: *FilterAll}

# è§„åˆ™æŒ‡å‘  
rules:
  - RULE-SET,private,DIRECT
  - RULE-SET,AIè§„åˆ™,ğŸ¤– ChatGPT
  - RULE-SET,Youtubeè§„åˆ™,ğŸ“¹ YouTube
  - RULE-SET,Googleè§„åˆ™,ğŸ€ Google
  - RULE-SET,Githubè§„åˆ™,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub  
  - RULE-SET,Telegramè§„åˆ™,ğŸ“² Telegram
  - RULE-SET,Netflixè§„åˆ™,ğŸ¥ NETFLIX
  - RULE-SET,Steamè§„åˆ™,ğŸ® Steam
  - RULE-SET,Tiktokè§„åˆ™,ğŸµ TikTok
  - RULE-SET,ç½‘æ˜“äº‘è§„åˆ™,ğŸ¶ ç½‘æ˜“éŸ³ä¹
  - RULE-SET,å¾®è½¯è§„åˆ™,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,è‹¹æœæœåŠ¡è§„åˆ™,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,è‡ªå®šä¹‰è§„åˆ™,ğŸš€ å¸¸è§„ä»£ç†
  - RULE-SET,å¸¸è§„ä»£ç†è§„åˆ™,ğŸš€ å¸¸è§„ä»£ç†
  - RULE-SET,geolocation-!cn,ğŸš€ å¸¸è§„ä»£ç†
  - RULE-SET,cnåŸŸåè§„åˆ™,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,cn_ipè§„åˆ™,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,google_ipè§„åˆ™,ğŸ€ Google,no-resolve
  - RULE-SET,telegram_ipè§„åˆ™,ğŸ“² Telegram,no-resolve
  - RULE-SET,netflix_ipè§„åˆ™,ğŸ¥ NETFLIX,no-resolve
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# è®¢é˜…è§„åˆ™é”šç‚¹  
rule-anchor:
  ip: &ip {type: http, interval: 7200, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 7200, behavior: domain, format: mrs}
  class: &class {type: http, interval: 7200, behavior: classical, format: text}

# è®¢é˜…è§„åˆ™
rule-providers:
  private: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"}
  AIè§„åˆ™: {!!merge <<: *class, url: "https://raw.githubusercontent.com/qichiyuhub/rule/refs/heads/master/AI.list"}
  Youtubeè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"}
  Googleè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  Githubè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"}
  Telegramè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  Netflixè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"}
  Steamè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/steam.mrs"}
  Tiktokè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"}
  ç½‘æ˜“äº‘è§„åˆ™: {!!merge <<: *class, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/NetEaseMusic.list"}
  å¾®è½¯è§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"}
  è‹¹æœæœåŠ¡è§„åˆ™: {!!merge <<: *class, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list"}
  è‡ªå®šä¹‰è§„åˆ™: {!!merge <<: *class, url: "https://raw.githubusercontent.com/nh6666/clash-ini/refs/heads/main/Proxy.list"}
  å¸¸è§„ä»£ç†è§„åˆ™: {!!merge <<: *class, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list"}
  geolocation-!cn: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"}
  cnåŸŸåè§„åˆ™: {!!merge <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}
  cn_ipè§„åˆ™: {!!merge <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"}
  google_ipè§„åˆ™: {!!merge <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"}
  telegram_ipè§„åˆ™: {!!merge <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"}
  netflix_ipè§„åˆ™: {!!merge <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs"}
